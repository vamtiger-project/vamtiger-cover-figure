{"version":3,"file":"vamtiger-cover-figure.js","sources":["../source/types.ts","../source/config.ts","../source/css/document-index.ts","../source/html/index.ts","../source/css/index.ts","../source/get-template.ts","../source/load-image-caption.ts","../source/handle-loaded-image.ts","../source/set-microdata.ts","../source/load-image.ts","../source/element.ts","../source/vamtiger-cover-figure.ts"],"sourcesContent":["import * as VBM from 'vamtiger-browser-method/build/types';\nimport VamtigerCoverFigure from './element';\n\nexport enum StringConstant {\n    nothing = '',\n    colonSpace = ': ',\n    slash = '/'\n}\n\nexport enum TimeoutDuration {\n    captionLoaded = 1000\n}\n\nexport enum DataAttribute {\n    captionImage = 'captionImage',\n    imageCaptionIcon = 'imageCaptionIcon',\n    imageCaptionTitle = 'imageCaptionTitle',\n    imageCaptionSubtitle = 'imageCaptionSubtitle',\n    jsonLd = 'jsonLd'\n}\n\nexport enum Selector {\n    style = 'style',\n    slot = 'slot',\n    image = 'img',\n    overlay = 'div',\n    figure = 'figure',\n    imageCaption = '[data-image-caption]',\n    icon = '[data-icon]',\n    titleHeader = '[data-title-header]',\n    title = '[data-title]',\n    subtitle = '[data-subtitle]',\n    centerCaption = '[data-center-caption]',\n    captionImage = 'img, svg',\n    vamtigerResponsiveSvg = 'vamtiger-responsive-svg',\n    iconFigure = '[data-icon-figure]',\n    linkedDataCaption = '[data-linked-data-caption]',\n    linkedDataCaptionElement = '[data-linked-data-caption-element]',\n    a = 'a'\n}\n\nexport enum DataAttribute {\n    image = 'image',\n    description = 'description',\n    loaded = 'loaded',\n    overlay = 'overlay'\n}\n\nexport enum SlotName {\n    darkOverlay = 'dark-overlay',\n    template = 'template',\n    caption = 'caption',\n    centerCaption = 'center-caption'\n}\n\nexport enum EventName {\n    imageLoaded = 'imageLoaded',\n    svgLoaded = 'svgLoaded'\n}\n\nexport enum ObservedAttributes {\n\n}\n\nexport interface IGetTemplate {\n    selector: Selector;\n    attributes?: IAttributes;\n    properties?: IProperties;\n}\n\nexport interface IAnyObject {\n    [key: string]: any;\n}\n\nexport interface IAttributes {\n    id?: string;\n    for?: string;\n    slot?: string;\n    'data-image-figure'?: string;\n    'data-json-ld'?: string;\n    itemprop?: string;\n}\n\nexport interface IProperties {\n    name?: string;\n    src?: string;\n    alt?: string;\n    innerHTML?: string;\n}\n\nexport interface ILoadImage {\n    element: VamtigerCoverFigure;\n}\n\nexport interface ILoadImageCaption {\n    element: VamtigerCoverFigure;\n}\n\nexport interface IDataset extends DOMStringMap {\n    image: string;\n    description?: string;\n    loaded?: '';\n    overlay?: SlotName;\n    imageCaptionIcon?: string;\n    imageCaptionTitle?: string;\n    imageCaptionSubtitle?: string;\n    centerCaption?: string;\n}\n\nexport interface IMicrodata {\n    itemscope: string;\n    itemtype: string;\n}\n\nexport interface IHandleLoadedImage {\n    element?: HTMLElement;\n}\n\nexport interface ISetMicrodata {\n    element: HTMLElement;\n}\n\nexport type MicroDataAttribute = keyof IMicrodata;\n\nexport type AttributesKey = keyof IAttributes;\n\nexport type ObservedAttribute = keyof typeof ObservedAttributes;\n\nexport type GetTemplate<P extends IGetTemplate> =\n    P['selector'] extends Selector.style ? HTMLStyleElement :\n    P['selector'] extends Selector.slot ? HTMLSlotElement :\n    P['selector'] extends Selector.image ? HTMLImageElement :\n    P['selector'] extends Selector.overlay ? HTMLDivElement :\n    P['selector'] extends Selector.a ? HTMLAnchorElement :\n    P['selector'] extends Selector.subtitle\n        | Selector.linkedDataCaptionElement ? HTMLSpanElement :\n    P['selector'] extends Selector.figure\n        | Selector.imageCaption\n        | Selector.titleHeader\n        | Selector.vamtigerResponsiveSvg\n        | Selector.iconFigure\n        | Selector.linkedDataCaption\n        | Selector.centerCaption ? HTMLElement :\n    null;\n\nexport const imageCaptionAttribute = [\n    DataAttribute.imageCaptionIcon,\n    DataAttribute.imageCaptionTitle,\n    DataAttribute.imageCaptionSubtitle\n];","import {\n    ObservedAttributes,\n    ObservedAttribute\n} from './types'\n\nexport const shadowRoot = {\n    mode: 'open'\n} as ShadowRootInit;\n\nexport const observedAttributes = Object.keys(ObservedAttributes) as ObservedAttribute[];\n\nexport const dependencies = [\n    'https://unpkg.com/vamtiger-responsive-svg@latest'\n];","export default `vamtiger-cover-figure,vamtiger-cover-figure figcaption,vamtiger-cover-figure figure,vamtiger-cover-figure h5,vamtiger-cover-figure header{margin:0;padding:0}vamtiger-cover-figure:before{bottom:0;right:0}vamtiger-cover-figure [data-overlay],vamtiger-cover-figure [slot=caption],vamtiger-cover-figure [slot=caption] [data-icon-figure],vamtiger-cover-figure [slot=vamtiger-cover-figure]{position:relative}vamtiger-cover-figure[data-center-caption-uppercase][data-center-caption-hashtag] [slot=center-caption] [data-caption-text]:before,vamtiger-cover-figure [slot=center-caption] [data-caption-text],vamtiger-cover-figure figcaption,vamtiger-cover-figure figure{display:inline-block}vamtiger-cover-figure [slot=caption][data-image-caption],vamtiger-cover-figure [slot=dark-overlay],vamtiger-cover-figure [slot=vamtiger-cover-figure]{-webkit-animation:b 0ms linear forwards;animation:b 0ms linear forwards}vamtiger-cover-figure [slot=dark-overlay],vamtiger-cover-figure [slot=vamtiger-cover-figure]{visibility:hidden}vamtiger-cover-figure[data-loaded] [slot=dark-overlay],vamtiger-cover-figure[data-loaded] [slot=vamtiger-cover-figure]{visibility:visible;-webkit-animation:a 275ms linear forwards;animation:a 275ms linear forwards}vamtiger-cover-figure[data-loaded] [slot=caption]{visibility:hidden}vamtiger-cover-figure[data-loaded] [slot=caption][data-image-caption][data-loaded]{visibility:visible;-webkit-animation:a 275ms linear forwards,h 175ms linear forwards;animation:a 275ms linear forwards,h 175ms linear forwards}vamtiger-cover-figure [data-overlay],vamtiger-cover-figure [slot=center-caption],vamtiger-cover-figure [slot=template],vamtiger-cover-figure [slot=vamtiger-cover-figure]{grid-column:1;grid-row:1}vamtiger-cover-figure [data-overlay],vamtiger-cover-figure [slot=template],vamtiger-cover-figure [slot=vamtiger-cover-figure],vamtiger-cover-figure [slot=vamtiger-cover-figure]>img{width:100%;height:100%}vamtiger-cover-figure [slot=caption] [data-icon],vamtiger-cover-figure [slot=vamtiger-cover-figure]>img{width:100%;max-height:100%}vamtiger-cover-figure [slot=vamtiger-cover-figure]>img{display:inline-block;-o-object-fit:cover;object-fit:cover;z-index:0}vamtiger-cover-figure [data-overlay]{z-index:1}vamtiger-cover-figure [slot=template]{z-index:2}vamtiger-cover-figure [slot=caption]{z-index:3;position:absolute;left:0;bottom:0;display:grid;grid-template-areas:\"a b\" \"a c\";grid-column-gap:.7em;grid-row-gap:.2em;padding:0 0 10px 10px;color:#fff;letter-spacing:.04em}vamtiger-cover-figure [slot=center-caption]{z-index:4;display:grid;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#fff;font-size:2em}vamtiger-cover-figure[data-center-caption-uppercase] [slot=center-caption]{text-transform:uppercase}vamtiger-cover-figure[data-center-caption-uppercase][data-center-caption-hashtag] [slot=center-caption] [data-caption-text]:before{content:\"#\"}vamtiger-cover-figure [slot=caption] [data-icon-figure]{grid-area:a;display:grid;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}vamtiger-cover-figure [slot=caption] [data-icon]{height:50px;width:50px}vamtiger-cover-figure [slot=caption] [data-title]{grid-area:b;font-size:1.2em}vamtiger-cover-figure [slot=caption] [data-subtitle]{grid-area:c;font-size:.9em}vamtiger-cover-figure [slot=caption] [data-subtitle],vamtiger-cover-figure [slot=caption] [data-title],vamtiger-cover-figure [slot=center-caption]{text-shadow:2px 2px 2px #000}vamtiger-cover-figure[data-loaded] [slot=dark-overlay]:first-of-type{background:-webkit-gradient(linear,left top,left bottom,color-stop(5%,rgba(0,0,0,.7)),color-stop(40%,rgba(0,0,0,.3)),color-stop(60%,transparent),to(transparent));background:linear-gradient(180deg,rgba(0,0,0,.7) 5%,rgba(0,0,0,.3) 40%,transparent 60%,transparent)}vamtiger-cover-figure[data-loaded] [slot=dark-overlay]:last-of-type{background:-webkit-gradient(linear,left top,left bottom,color-stop(5%,transparent),color-stop(40%,transparent),color-stop(60%,rgba(0,0,0,.3)),to(rgba(0,0,0,.7)));background:linear-gradient(180deg,transparent 5%,transparent 40%,rgba(0,0,0,.3) 60%,rgba(0,0,0,.7))}vamtiger-cover-figure:before{display:inline-block;content:\"\";opacity:0;-webkit-transition:opacity 335ms linear;transition:opacity 335ms linear;position:absolute;left:0;top:0;width:100%;height:100%}vamtiger-cover-figure[data-loading]:before{opacity:1;-webkit-animation:g 675ms linear alternate infinite;animation:g 675ms linear alternate infinite}vamtiger-cover-figure[data-loaded]:before{display:none}vamtiger-cover-figure [data-overlay]:first-of-type{-webkit-animation:a 275ms linear forwards,e 275ms forwards;animation:a 275ms linear forwards,e 275ms forwards}vamtiger-cover-figure [data-overlay]:last-of-type{-webkit-animation:a 275ms linear forwards,f 275ms forwards;animation:a 275ms linear forwards,f 275ms forwards}vamtiger-cover-figure[data-hide-overlay] [data-overlay]:first-of-type{-webkit-animation:b 275ms linear forwards,c 275ms forwards;animation:b 275ms linear forwards,c 275ms forwards}vamtiger-cover-figure[data-hide-overlay] [data-overlay]:last-of-type{-webkit-animation:b 275ms linear forwards,d 275ms forwards;animation:b 275ms linear forwards,d 275ms forwards}@element vamtiger-cover-figure and (max-width:600px){:self [slot=caption]{grid-row-gap:0;grid-column-gap:.5em}:self [slot=caption] [data-icon]{height:45px;width:45px}:self [slot=caption] [data-title]{font-size:1em}:self [slot=caption] [data-subtitle]{font-size:.8em}}@element vamtiger-cover-figure and (max-width:500px){:self [slot=caption]{padding:0 0 8px 8px;grid-row-gap:0;grid-column-gap:.3em}:self [slot=caption] [data-icon]{height:40px;width:40px}:self [slot=caption] [data-title]{font-size:.9em}:self [slot=caption] [data-subtitle]{font-size:.8em}}@element vamtiger-cover-figure and (max-width:400px){:self [slot=caption]{padding:0 0 5px 5px;grid-row-gap:0;grid-column-gap:.2em}:self [slot=caption] [data-icon]{height:35px;width:35px}:self [slot=caption] [data-title]{font-size:.8em}:self [slot=caption] [data-subtitle]{font-size:.7em}}@element vamtiger-cover-figure and (max-width:350px){:self [slot=caption]{padding:0 0 5px 5px}:self [slot=caption] [data-icon]{display:none}:self [slot=caption] [data-title]{font-size:.8em}:self [slot=caption] [data-subtitle]{font-size:.7em}}@-webkit-keyframes a{0%{opacity:0}to{opacity:1}}@keyframes a{0%{opacity:0}to{opacity:1}}@-webkit-keyframes b{0%{opacity:1}to{opacity:0}}@keyframes b{0%{opacity:1}to{opacity:0}}@-webkit-keyframes c{0%{top:0}to{top:-5em}}@keyframes c{0%{top:0}to{top:-5em}}@-webkit-keyframes d{0%{top:0}to{top:5em}}@keyframes d{0%{top:0}to{top:5em}}@-webkit-keyframes e{0%{top:-5em}to{top:0}}@keyframes e{0%{top:-5em}to{top:0}}@-webkit-keyframes f{0%{top:5em}to{top:0}}@keyframes f{0%{top:5em}to{top:0}}@-webkit-keyframes g{0%{background-color:#f1f1f1}to{background-color:#e7e7e7}}@keyframes g{0%{background-color:#f1f1f1}to{background-color:#e7e7e7}}@-webkit-keyframes h{0%{left:-2em}to{left:0}}@keyframes h{0%{left:-2em}to{left:0}}\n/*# sourceMappingURL=document-index.ts.map */`;","export default `<slot></slot> <img> <figure data-image-figure></figure> <figcaption data-image-caption></figcaption> <figure data-icon-figure></figure> <vamtiger-responsive-svg data-icon></vamtiger-responsive-svg> <header data-title-header> <h5 data-title></h5> </header> <span data-subtitle></span> <figcaption data-center-caption></figcaption> <div></div> <figcaption data-linked-data-caption></figcaption> <span data-linked-data-caption-element></span> <a></a>`;","export default `:host{display:grid;position:relative;overflow:hidden}\n/*# sourceMappingURL=index.ts.map */`;","import {\n    IGetTemplate,\n    GetTemplate,\n    StringConstant,\n    AttributesKey\n} from './types';\nimport html from './html';\nimport css from './css';\n\nconst { nothing } = StringConstant;\nconst template = document.createElement('template');\nconst stylesheet = `<style>${css}</style>`\nconst templateHtml = [\n    stylesheet,\n    html\n].join(nothing);\n\ntemplate.innerHTML = templateHtml;\n\nexport default <P extends IGetTemplate>(params: P) => {\n    const {\n        selector,\n        attributes = {},\n        properties = {}\n    } = params;\n    const attributesKeys = Object.keys(attributes) as AttributesKey[]\n    const templateElement = template.content.querySelector(selector);\n    const currentTemplate = templateElement && templateElement.cloneNode(true) as GetTemplate<P>;\n\n    if (currentTemplate) {\n        Object.assign(currentTemplate, properties);\n\n        attributesKeys.forEach(key => attributes[key] && currentTemplate.setAttribute(key, attributes[key] || ''));\n    }\n\n    return currentTemplate;\n};","import {\n    ILoadImageCaption,\n    IDataset,\n    Selector,\n    SlotName,\n    EventName,\n    StringConstant,\n    TimeoutDuration\n} from './types';\nimport getTemplate from './get-template';\n\nconst { VamtigerBrowserMethod } = window;\nconst { getData } = VamtigerBrowserMethod;\nconst { nothing } = StringConstant;\nconst { captionLoaded: timeout } = TimeoutDuration\n\nexport default async function ({ element }: ILoadImageCaption) {\n    const dataset = element.dataset as IDataset;\n    const {\n        jsonLd: jsonLdUrl\n    } = dataset;\n    const { jsonLd, json } = jsonLdUrl && await getData({ jsonLd: jsonLdUrl }) || { jsonLd: [], json: {} };\n    const [ captionJsonLd ] = jsonLd;\n    const svgCaptionUrl = json && json.svgCaption;\n    const titleText = captionJsonLd && captionJsonLd.name;\n    const subtitleText = captionJsonLd && captionJsonLd.description;\n    const responsiveSvg = titleText && subtitleText && svgCaptionUrl && getTemplate({\n        selector: Selector.vamtigerResponsiveSvg,\n        attributes: {\n            'data-json-ld': svgCaptionUrl\n        }\n    });\n    const iconFigure =  responsiveSvg && getTemplate({\n        selector: Selector.iconFigure\n    });\n    const titleHeader = titleText && getTemplate({\n        selector: Selector.titleHeader,\n        attributes: {\n            'data-json-ld': svgCaptionUrl\n        }\n    });\n    const title = titleHeader && titleHeader.querySelector<HTMLHeadingElement>(Selector.title);\n    const subtitle = subtitleText && getTemplate({\n        selector: Selector.subtitle,\n        properties: {\n            innerHTML: subtitleText\n        }\n    });\n    const captionElements = [\n        iconFigure,\n        titleHeader,\n        subtitle\n    ];\n    const caption = captionElements.every(captionElement => Boolean(captionElement)) && getTemplate({\n        selector: Selector.imageCaption,\n        attributes: {\n            slot: SlotName.caption\n        }\n    });\n\n    if (responsiveSvg && iconFigure) {\n        responsiveSvg.addEventListener(EventName.svgLoaded, handleSvgLoaded);\n\n        iconFigure.appendChild(responsiveSvg);\n    }\n\n    if (title && titleText) {\n        title.innerHTML = titleText;\n    }\n\n    titleHeader && titleHeader.setAttribute('itemprop', 'name');\n\n    subtitle && subtitle.setAttribute('itemprop', 'description');\n\n    if (caption) {\n        captionElements.forEach(captionElement => captionElement && caption.appendChild(captionElement));\n\n        element.appendChild(caption);\n    }\n\n    function handleSvgLoaded() {\n        responsiveSvg && responsiveSvg.removeEventListener(EventName.svgLoaded, handleSvgLoaded);\n\n        caption && setTimeout(() => caption.dataset.loaded = nothing, timeout);\n    }\n}","import {\n    StringConstant,\n    IDataset,\n    IHandleLoadedImage,\n    EventName\n} from './types';\nimport VamtigerCoverFigure, { name } from './element';\nimport loadImageCaption from './load-image-caption'\n\nconst { nothing } = StringConstant;\nconst eventParams = {\n    bubbles: true\n};\n\nexport default function handleLoadedImage({ currentTarget, element: currentElement }: Event & IHandleLoadedImage) {\n    const image = currentTarget as HTMLElement;\n    const element = (currentElement || image.closest(name)) as VamtigerCoverFigure;\n    const dataset = element.dataset as IDataset;\n    const imageLoadedEvent = new CustomEvent(\n        EventName.imageLoaded,\n        eventParams\n    );\n\n    image.removeEventListener('loaded', handleLoadedImage);\n\n    dataset.loaded = nothing;\n\n    delete element.dataset.loading;\n\n    element.dispatchEvent(imageLoadedEvent);\n\n    loadImageCaption({ element });\n}","import {\n    ISetMicrodata,\n    IDataset,\n    Selector,\n    StringConstant\n} from './types';\nimport getTemplate from './get-template';\n\nconst { VamtigerBrowserMethod, requestIdleCallback } = self;\nconst { getData, getMicrodataCaption } = VamtigerBrowserMethod;\nconst { slash, nothing } = StringConstant;\n\nexport default function(params: ISetMicrodata) {return new Promise((resolve, reject) => {\n    if (requestIdleCallback) {\n        requestIdleCallback(() => setMicroData(params).then(resolve).catch(reject));\n    } else {\n        setMicroData(params).then(resolve).catch(reject)\n    }\n})}\n\nasync function setMicroData({ element }: ISetMicrodata) {\n    const dataset = element.dataset as IDataset;\n    const {\n        jsonLd: jsonLdUrl\n    } = dataset;\n    const { jsonLd } = jsonLdUrl && await getData({ jsonLd: jsonLdUrl }) || { jsonLd: [] };\n    const [ imageData ] = jsonLd;\n    const name = imageData && imageData.name;\n    const description = imageData && imageData.description;\n    const keywords = imageData && imageData.keywords;\n    const about = imageData && imageData.about;\n    const aboutItemType = about['@context'] && about['@type'] && [\n        about['@context'],\n        about['@type']\n    ].join(slash);\n    const aboutName = about && about.name;\n    const aboutDescription = about && about.description;\n    const caption = imageData && getTemplate({\n        selector: Selector.linkedDataCaption\n    });\n    const aboutCaption = about && getTemplate({\n        selector: Selector.linkedDataCaption,\n        attributes: {\n            itemprop: 'about'\n        }\n    });\n    const captionElements = caption && [\n        name && getTemplate({\n            selector: Selector.linkedDataCaptionElement,\n            properties: {\n                innerHTML: name\n            },\n            attributes: {\n                itemprop: 'name'\n            }\n        }),\n        description && getTemplate({\n            selector: Selector.linkedDataCaptionElement,\n            properties: {\n                innerHTML: description\n            },\n            attributes: {\n                itemprop: 'description'\n            }\n        }),\n        keywords && getTemplate({\n            selector: Selector.linkedDataCaptionElement,\n            properties: {\n                innerHTML: keywords\n            },\n            attributes: {\n                itemprop: 'keywords'\n            }\n        }),\n        imageData && getMicrodataCaption({\n            imageData,\n            fieldKey: 'about'\n        }),\n        imageData && getMicrodataCaption({\n            imageData,\n            fieldKey: 'producer'\n        }),\n        imageData && getMicrodataCaption({\n            imageData,\n            fieldKey: 'creator'\n        }),\n        imageData && getMicrodataCaption({\n            imageData,\n            fieldKey: 'sponsor'\n        }),\n        imageData && getMicrodataCaption({\n            imageData,\n            fieldKey: 'funder'\n        })\n    ].filter(currentElement => currentElement);\n\n    if (caption && captionElements && captionElements.length) {\n        captionElements.forEach(currentElement => currentElement && caption.appendChild(currentElement));\n\n        element.appendChild(caption);\n    }\n}","import {\n    ILoadImage,\n    IDataset,\n    Selector,\n    StringConstant,\n    MicroDataAttribute\n} from './types';\nimport { name } from './element';\nimport getTemplate from './get-template';\nimport handleLoaded from './handle-loaded-image';\nimport setMicroData from './set-microdata';\n\nconst { VamtigerBrowserMethod } = window;\nconst { getData } = VamtigerBrowserMethod;\nconst { nothing, colonSpace, slash } = StringConstant;\n\nexport default async function ({ element }: ILoadImage) {\n    const dataset = element.dataset as IDataset;\n    const {\n        image: src,\n        overlay: overlayPrefix,\n        jsonLd: jsonLdUrl\n    } = dataset;\n    const { jsonLd } = jsonLdUrl && await getData({ jsonLd: jsonLdUrl }) || { jsonLd: [] };\n    const [ imageData ] = jsonLd;\n    const url = imageData && imageData.image || src;\n    const alt = imageData && [\n        imageData.name,\n        imageData.description\n    ].filter(text => text).join(colonSpace);\n    const itemtype = imageData['@context'] && imageData['@type'] && [\n        imageData['@context'],\n        imageData['@type']\n    ].join(slash);\n    const microData = itemtype && {\n        itemscope: nothing,\n        itemtype\n    };\n    const microDataAttributes = microData && Object.keys(microData) as MicroDataAttribute[] || [];\n    const image = url && getTemplate({\n        selector: Selector.image,\n        properties: {\n            src: url,\n            alt\n        }\n    });\n    const imageFigure = image && getTemplate({\n        selector: Selector.figure,\n        attributes: {\n            slot: name\n        }\n    })\n    const overlays = overlayPrefix && [\n        getTemplate({\n            selector: Selector.overlay,\n            attributes: {\n                slot: `${overlayPrefix}-overlay`\n            }\n        }),\n        getTemplate({\n            selector: Selector.overlay,\n            attributes: {\n                slot: `${overlayPrefix}-overlay`\n            }\n        })\n    ];\n\n    if (image && imageFigure) {\n        image.addEventListener('load', handleLoaded);\n\n        imageFigure.appendChild(image);\n\n        element.appendChild(imageFigure);\n\n        element.dataset.loading = nothing;\n\n        image.setAttribute('itemprop', 'image');\n    }\n\n    overlays && overlays.forEach(overlay => {\n        if (overlay) {\n            overlay.dataset.overlay = nothing;\n\n            element.appendChild(overlay);\n        }\n    });\n\n    microData && microDataAttributes.forEach(attribute => element.setAttribute(attribute, microData[attribute]));\n\n    setMicroData({ element });\n}","import {\n    Selector,\n    ObservedAttribute,\n    SlotName\n} from './types';\nimport {\n    shadowRoot as shadowRootConfig,\n    observedAttributes\n} from './config';\nimport css from './css/document-index';\nimport getTemplate from './get-template';\nimport loadImage from './load-image';\n\nexport const name = 'vamtiger-cover-figure';\n\nconst { VamtigerBrowserMethod } = window;\nconst { loadScript } = VamtigerBrowserMethod;\n\ncss && loadScript({ name, css })\n    .catch(console.error);\n\nexport default class VamtigerCoverFigure extends HTMLElement {\n    constructor() {\n        super();\n\n        const { dataset } = this;\n        const {\n            overlay: overlaySlotNamePrefix,\n            template\n        } = dataset;\n        const shadowRoot = this.attachShadow(shadowRootConfig);\n        const stylesheet = getTemplate({\n            selector: Selector.style\n        });\n        const slot = getTemplate({\n            selector: Selector.slot,\n            properties: {\n                name\n            }\n        });\n        const overlaySlot = overlaySlotNamePrefix && getTemplate({\n            selector: Selector.slot,\n            properties: {\n                name: `${overlaySlotNamePrefix}-overlay`\n            }\n        });\n        const templateSlot = template && getTemplate({\n            selector: Selector.slot,\n            properties: {\n                name: SlotName.template\n            }\n        });\n        const captionSlot = getTemplate({\n            selector: Selector.slot,\n            properties: {\n                name: SlotName.caption\n            }\n        });\n        const centerCaptionSlot = getTemplate({\n            selector: Selector.slot,\n            properties: {\n                name: SlotName.centerCaption\n            }\n        });\n        const elements = [\n            stylesheet,\n            slot,\n            overlaySlot,\n            templateSlot,\n            captionSlot,\n            centerCaptionSlot\n        ];\n\n        elements.forEach(element => element && shadowRoot.appendChild(element));\n    }\n\n    static get observedAttributes() {\n        return observedAttributes;\n    }\n\n    async connectedCallback() {\n        const element = this;\n\n        await loadImage({ element });\n    }\n\n    attributeChangedCallback(name: ObservedAttribute, oldValue: string, newValue: string) {\n\n    }\n}","import constructor, { name } from './element';\nimport {\n    dependencies\n} from './config'\n\nconst { VamtigerBrowserMethod } = window;\nconst { defineCustomElement, loadScript } = VamtigerBrowserMethod;\nconst params = {\n    name,\n    constructor\n};\n\nasync function load() {\n    await Promise.all(dependencies.map(src => loadScript({ src })));\n\n    defineCustomElement(params);\n}\n\nload().catch(console.warn);"],"names":["css","nothing","VamtigerBrowserMethod","getData","setMicroData","slash","handleLoaded","shadowRoot","shadowRootConfig","loadScript","constructor"],"mappings":"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"}